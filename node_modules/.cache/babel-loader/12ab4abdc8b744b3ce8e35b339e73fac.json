{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryegu\\\\Documents\\\\COP4808\\\\src\\\\pages\\\\CreateCrewmate.js\",\n    _s = $RefreshSig$();\n\n// CreateCrewmate.js\nimport React, { useState } from 'react';\nimport supabase from '../client'; // Ensure this path is correct\n\nimport { useNavigate } from 'react-router-dom';\nimport './CreateCrewmate.css'; // In CreateCrewmate.js\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateCrewmate = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [category, setCategory] = useState('mage'); // Initialize with default category\n\n  const createCrewmate = async event => {\n    event.preventDefault();\n    const {\n      name,\n      mph,\n      color\n    } = event.target.elements; // Check if the crewmate category is \"mage\" and MPH is higher than 50\n\n    if (category === 'mage' && parseInt(mph.value) > 50) {\n      alert('Mages cannot have an MPH higher than 50.');\n      return;\n    } // Proceed with the insertion logic if the condition is met\n\n\n    const {\n      data,\n      error\n    } = await supabase.from('Posts').insert([{\n      name: name.value,\n      mph: parseFloat(mph.value),\n      color: color.value,\n      category // Include category in the insertion\n\n    }]);\n\n    if (error) {\n      console.error(\"Error inserting new crewmate:\", error);\n      alert(\"Failed to create crewmate. Error: \" + error.message);\n    } else {\n      console.log(\"New crewmate added:\", data);\n      navigate('/'); // Redirect to homepage or appropriate path\n    }\n  };\n\n  const handleCategoryChange = event => {\n    setCategory(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add New Crewmate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: createCrewmate,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"MPH:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"mph\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Color:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"color\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Category:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"category\",\n          value: category,\n          onChange: handleCategoryChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"mage\",\n            children: \"Mage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"warrior\",\n            children: \"Warrior\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Crewmate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateCrewmate, \"epQ8S/1GTZFSg4c4uipSBJeJ8xg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreateCrewmate;\nexport default CreateCrewmate;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateCrewmate\");","map":{"version":3,"names":["React","useState","supabase","useNavigate","CreateCrewmate","navigate","category","setCategory","createCrewmate","event","preventDefault","name","mph","color","target","elements","parseInt","value","alert","data","error","from","insert","parseFloat","console","message","log","handleCategoryChange"],"sources":["C:/Users/ryegu/Documents/COP4808/src/pages/CreateCrewmate.js"],"sourcesContent":["// CreateCrewmate.js\r\nimport React, { useState } from 'react';\r\nimport supabase from '../client'; // Ensure this path is correct\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './CreateCrewmate.css'; // In CreateCrewmate.js\r\n\r\nconst CreateCrewmate = () => {\r\n    const navigate = useNavigate();\r\n    const [category, setCategory] = useState('mage'); // Initialize with default category\r\n\r\n    const createCrewmate = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const { name, mph, color } = event.target.elements;\r\n\r\n        // Check if the crewmate category is \"mage\" and MPH is higher than 50\r\n        if (category === 'mage' && parseInt(mph.value) > 50) {\r\n            alert('Mages cannot have an MPH higher than 50.');\r\n            return;\r\n        }\r\n\r\n        // Proceed with the insertion logic if the condition is met\r\n        const { data, error } = await supabase\r\n            .from('Posts')\r\n            .insert([\r\n                { \r\n                    name: name.value, \r\n                    mph: parseFloat(mph.value), \r\n                    color: color.value,\r\n                    category // Include category in the insertion\r\n                }\r\n            ]);\r\n\r\n        if (error) {\r\n            console.error(\"Error inserting new crewmate:\", error);\r\n            alert(\"Failed to create crewmate. Error: \" + error.message);\r\n        } else {\r\n            console.log(\"New crewmate added:\", data);\r\n            navigate('/'); // Redirect to homepage or appropriate path\r\n        }\r\n    };\r\n\r\n    const handleCategoryChange = (event) => {\r\n        setCategory(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Add New Crewmate</h2>\r\n            <form onSubmit={createCrewmate}>\r\n                <label>\r\n                    Name:\r\n                    <input type=\"text\" name=\"name\" required />\r\n                </label>\r\n                <label>\r\n                    MPH:\r\n                    <input type=\"number\" name=\"mph\" required />\r\n                </label>\r\n                <label>\r\n                    Color:\r\n                    <input type=\"text\" name=\"color\" required />\r\n                </label>\r\n                <label>\r\n                    Category:\r\n                    <select name=\"category\" value={category} onChange={handleCategoryChange}>\r\n                        <option value=\"mage\">Mage</option>\r\n                        <option value=\"warrior\">Warrior</option>\r\n                    </select>\r\n                </label>\r\n                <button type=\"submit\">Add Crewmate</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateCrewmate;"],"mappings":"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"},"metadata":{},"sourceType":"module"}