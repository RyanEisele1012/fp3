{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryegu\\\\Documents\\\\COP4808\\\\src\\\\pages\\\\EditCrewmate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport supabase from '../client'; // Ensure this path is correct\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditCrewmate = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [crewmate, setCrewmate] = useState(null);\n  const [name, setName] = useState('');\n  const [mph, setMph] = useState('');\n  const [color, setColor] = useState('');\n  const [category, setCategory] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchCrewmate = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from('Posts').select('*').eq('id', id).single();\n\n      if (error) {\n        console.error('Error fetching crewmate:', error.message);\n      } else {\n        setCrewmate(data);\n        setName(data.name);\n        setMph(data.mph);\n        setColor(data.color);\n        setCategory(data.category);\n      }\n    };\n\n    fetchCrewmate();\n  }, [id]);\n\n  const handleSubmit = async event => {\n    event.preventDefault(); // Check if the crewmate category is \"mage\" and MPH is higher than 50\n\n    if (category === 'mage' && parseInt(mph) > 50) {\n      alert('Mages cannot have an MPH higher than 50.');\n      return;\n    } // Perform the update in the Supabase table\n\n\n    const {\n      error\n    } = await supabase.from('Posts').update({\n      name,\n      mph: parseFloat(mph),\n      color,\n      category\n    }).eq('id', id);\n\n    if (error) {\n      console.error(\"Error updating crewmate:\", error);\n      alert(\"Failed to update crewmate. Error: \" + error.message);\n    } else {\n      console.log(\"Crewmate updated successfully\");\n      navigate('/'); // Redirect to homepage or appropriate path\n    }\n  };\n\n  const handleDelete = async () => {\n    // Confirm deletion with user\n    if (window.confirm('Are you sure you want to delete this crewmate?')) {\n      // Delete crewmate from Supabase database\n      const {\n        error\n      } = await supabase.from('Posts').delete().eq('id', id);\n\n      if (error) {\n        console.error('Error deleting crewmate:', error.message);\n      } else {\n        console.log('Crewmate deleted successfully');\n        navigate('/'); // Redirect to homepage or appropriate path after deletion\n      }\n    }\n  };\n\n  if (!crewmate) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Crewmate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"MPH:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: mph,\n          onChange: e => setMph(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Color:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: color,\n          onChange: e => setColor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Category:\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"mage\",\n            children: \"Mage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"warrior\",\n            children: \"Warrior\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Crewmate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      children: \"Delete Crewmate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditCrewmate, \"nlAzGAcM6Tn+gNARPJwgG2apv70=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditCrewmate;\nexport default EditCrewmate;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCrewmate\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","supabase","EditCrewmate","id","crewmate","setCrewmate","name","setName","mph","setMph","color","setColor","category","setCategory","navigate","fetchCrewmate","data","error","from","select","eq","single","console","message","handleSubmit","event","preventDefault","parseInt","alert","update","parseFloat","log","handleDelete","window","confirm","delete","e","target","value"],"sources":["C:/Users/ryegu/Documents/COP4808/src/pages/EditCrewmate.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport supabase from '../client'; // Ensure this path is correct\r\n\r\nconst EditCrewmate = () => {\r\n    const { id } = useParams();\r\n    const [crewmate, setCrewmate] = useState(null);\r\n    const [name, setName] = useState('');\r\n    const [mph, setMph] = useState('');\r\n    const [color, setColor] = useState('');\r\n    const [category, setCategory] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const fetchCrewmate = async () => {\r\n            const { data, error } = await supabase.from('Posts').select('*').eq('id', id).single();\r\n            if (error) {\r\n                console.error('Error fetching crewmate:', error.message);\r\n            } else {\r\n                setCrewmate(data);\r\n                setName(data.name);\r\n                setMph(data.mph);\r\n                setColor(data.color);\r\n                setCategory(data.category);\r\n            }\r\n        };\r\n\r\n        fetchCrewmate();\r\n    }, [id]);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        // Check if the crewmate category is \"mage\" and MPH is higher than 50\r\n        if (category === 'mage' && parseInt(mph) > 50) {\r\n            alert('Mages cannot have an MPH higher than 50.');\r\n            return;\r\n        }\r\n\r\n        // Perform the update in the Supabase table\r\n        const { error } = await supabase\r\n            .from('Posts')\r\n            .update({ name, mph: parseFloat(mph), color, category })\r\n            .eq('id', id);\r\n\r\n        if (error) {\r\n            console.error(\"Error updating crewmate:\", error);\r\n            alert(\"Failed to update crewmate. Error: \" + error.message);\r\n        } else {\r\n            console.log(\"Crewmate updated successfully\");\r\n            navigate('/'); // Redirect to homepage or appropriate path\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        // Confirm deletion with user\r\n        if (window.confirm('Are you sure you want to delete this crewmate?')) {\r\n            // Delete crewmate from Supabase database\r\n            const { error } = await supabase.from('Posts').delete().eq('id', id);\r\n            if (error) {\r\n                console.error('Error deleting crewmate:', error.message);\r\n            } else {\r\n                console.log('Crewmate deleted successfully');\r\n                navigate('/'); // Redirect to homepage or appropriate path after deletion\r\n            }\r\n        }\r\n    };\r\n\r\n    if (!crewmate) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Edit Crewmate</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    Name:\r\n                    <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\r\n                </label>\r\n                <label>\r\n                    MPH:\r\n                    <input type=\"number\" value={mph} onChange={(e) => setMph(e.target.value)} />\r\n                </label>\r\n                <label>\r\n                    Color:\r\n                    <input type=\"text\" value={color} onChange={(e) => setColor(e.target.value)} />\r\n                </label>\r\n                <label>\r\n                    Category:\r\n                    <select value={category} onChange={(e) => setCategory(e.target.value)}>\r\n                        <option value=\"\">Select category</option>\r\n                        <option value=\"mage\">Mage</option>\r\n                        <option value=\"warrior\">Warrior</option>\r\n                    </select>\r\n                </label>\r\n                <button type=\"submit\">Update Crewmate</button>\r\n            </form>\r\n            <button onClick={handleDelete}>Delete Crewmate</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditCrewmate;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}